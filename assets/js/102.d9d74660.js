(window.webpackJsonp=window.webpackJsonp||[]).push([[102],{437:function(_,t,e){"use strict";e.r(t);var v=e(13),s=Object(v.a)({},(function(){var _=this,t=_.$createElement,e=_._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[e("p",[_._v("默认设置下，mysql会初始化很大的内存块用于缓存数据库查询数据。")]),_._v(" "),e("p"),_._v(" "),e("p",[_._v("但我的小主机只有946mb的内存，top查询发现他吃了我20% 的内存总量，差不多200MB。")]),_._v(" "),e("p",[_._v("但这个数据库里只有几MB的数据，感觉这设置很不合理。")]),_._v(" "),e("p",[_._v("经过爬文，终于把内存占用降到了128MB")]),_._v(" "),e("h3",{attrs:{id:"配置方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置方法"}},[_._v("#")]),_._v(" 配置方法")]),_._v(" "),e("p"),_._v(" "),e("p",[_._v("直接修改 /etc/mysql/mysql.conf.d/mysqld.cnf")]),_._v(" "),e("p"),_._v(" "),e("p",[_._v("在配置末尾追加如下配置")]),_._v(" "),e("p"),_._v(" "),e("p",[_._v("performance_schema_max_table_instances=150")]),_._v(" "),e("p",[_._v("table_definition_cache=150")]),_._v(" "),e("p",[_._v("table_open_cache=64")]),_._v(" "),e("p"),_._v(" "),e("p",[_._v("然后 service mysql restart 重启服务即可")])])}),[],!1,null,null,null);t.default=s.exports}}]);