(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{339:function(t,a,e){"use strict";e.r(a);var s=e(13),n=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("版本的不同主要是发生 "),e("code",[t._v("URL -- 资源")]),t._v(" 访问的变更，可以参考以下方式。")]),t._v(" "),e("h1",{attrs:{id:"java-api版本控制"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#java-api版本控制"}},[t._v("#")]),t._v(" [Java]API版本控制")]),t._v(" "),e("h2",{attrs:{id:"部署-通过nginx配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#部署-通过nginx配置"}},[t._v("#")]),t._v(" 部署，通过Nginx配置")]),t._v(" "),e("p",[t._v("前提： 不同的版本都独立部署\n如外部访问： http://demo.com/v1/,   http://demo.com/v2/\n内部Nginx配置：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("location /v1/{\n    proxy_pass http://127.0.0.1:8000/api/;\n}\nlocation /v2/{\n    proxy_pass http://127.0.0.1:9000/api/;\n}\n")])])]),e("h2",{attrs:{id:"修改-servletcontext"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改-servletcontext"}},[t._v("#")]),t._v(" 修改 servletContext")]),t._v(" "),e("p",[t._v("前提： 不同的版本都独立部署\n修改 application.servlet.contextPath")]),t._v(" "),e("h2",{attrs:{id:"通过request参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#通过request参数"}},[t._v("#")]),t._v(" 通过request参数")]),t._v(" "),e("p",[t._v("添加 version 参数")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('@Getmapping(params="version=1")\npublic void  getV1(int id){\n    \n}\n\n@Getmapping(params="version=2")\npublic void  getV2(int id){\n    \n}\n')])])])])}),[],!1,null,null,null);a.default=n.exports}}]);