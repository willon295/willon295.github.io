(window.webpackJsonp=window.webpackJsonp||[]).push([[196],{576:function(a,t,e){"use strict";e.r(t);var s=e(13),n=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"配置并启动集群"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置并启动集群"}},[a._v("#")]),a._v(" 配置并启动集群")]),a._v(" "),e("p",[a._v("修改以下文件之前先修改 "),e("code",[a._v("hadoop-env.sh")]),a._v(" 文件中的 "),e("code",[a._v("JAVA_HOME")]),a._v(",切所有从节点的配置文件都是一样的")]),a._v(" "),e("ol",[e("li",[a._v("修改 "),e("code",[a._v("core-site.xml")]),a._v(" 文件(缓存文件目录)")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("<configuration>\n    <property>\n        <name>fs.defaultFS</name>\n        <value>hdfs://hdpnn0:9000</value>\n    </property>\n    <property>\n        <name>hadoop.tmp.dir</name>\n        <value>/root/hadooptmp</value>\n    </property>\n</configuration>\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[a._v("修改 "),e("code",[a._v("hdfs-site.xml")]),a._v(" （SecondaryNamenode的配置）")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("<configuration>\n    <property>\n        <name>dfs.namenode.secondary.http-address>\n        <value>hdpnno:50090</value>\n    </property>\n</configuration>\n")])])]),e("ol",{attrs:{start:"3"}},[e("li",[a._v("修改 "),e("code",[a._v("slaves")]),a._v(" 文件 （所有从节点的域名/ip）")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("hdpdn0\nhdpdn1\n...\nhdpdn100\n")])])]),e("ol",{attrs:{start:"4"}},[e("li",[a._v("单个启动 "),e("code",[a._v("hdpnn0")]),a._v(" 服务器的 "),e("code",[a._v("namenode")])])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("hadoop-daemon.sh  start namenode\n")])])]),e("ol",{attrs:{start:"5"}},[e("li",[a._v("单个启动 hdpdn100 所有的 "),e("code",[a._v("datanode")])])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("hadoop-daemon.sh  start datanode\n")])])]),e("ol",{attrs:{start:"6"}},[e("li",[a._v("一键启动/停止所有节点")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("start-dfs.sh\nstop-dfs.sh\n")])])]),e("h1",{attrs:{id:"注意事项"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#注意事项"}},[a._v("#")]),a._v(" 注意事项")]),a._v(" "),e("ol",[e("li",[e("code",[a._v("namenode")]),a._v(" 初始化后， "),e("code",[a._v("hadooptmp")]),a._v(" 文件夹发生变化， "),e("code",[a._v("集群ID")]),a._v(" 发生变化，此时如果 "),e("code",[a._v("重启")]),a._v(" 其他的 "),e("code",[a._v("datanode")]),a._v(" 会失败。")]),a._v(" "),e("li",[a._v("解决： 删除所有的 "),e("code",[a._v("datanode")]),a._v(" 的缓存文件夹")])])])}),[],!1,null,null,null);t.default=n.exports}}]);