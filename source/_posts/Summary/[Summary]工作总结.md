---
title: '[Summary]工作总结'
tag: Summary
category: Summary
date: 2018-10-16 00:00:00
---


# 2018-10-16 

主要工作:  冒烟测试



# 20180925-20181015

- 主要项目: 新零售全场券接入
- 负责模块: ap 活动平台
- 主要任务: C 端代码编写, 对接前端

## 工作概况

- 新零售首页优惠券展示 (10)
- 我在本店的优惠券列表 (20)
    - 可领取/已领取
    - 已使用/已过期/转赠
- 历史优惠券列表 (10)
- 领取优惠券 (10)
- 转赠优惠券/分享文案 (10)
- 首页主动领取优惠券 (10)
- 领取转赠优惠券 (10)
- 已领取的优惠券详情 (10)
    - 券的基本信息
    - 适用门店
    - 转赠信息等
- 未领取的优惠券详情 (8)
    - 点击领取
    - 基本信息

## 遇到的问题

1. 网关配置: 
    - 边问边学边配
    - 可问的人也很少
    - 项目原有架构问题, 网关配置相当繁琐
    - 网关手动配置 BUG 很多, 出餐花费两天没配好
    - 临时微调整项目, 网关返回参数可以简单配置
    - 网关自测,传参不知道怎么传, customerId是走oath,拿token,取redis的
2. 联调问题:
    - 网关无法接收前端发送的POST请求 , 关键入参无法获取
    -  CustomerId 不是从request获取, 而是通过redis获取
    - 前端入参是以 `_` 下划线分割, 而C端需要的参数是驼峰式
3. 代码编写
    - 前期比较耗时 ,原有项目调用 market-center , comsumer-soa 完成相应的业务, 而我需要剔除这两个项目的依赖
    - 前人大佬留下的业务代码有 6000 行, 代码重构,业务逻辑梳理 很难, 尤其是大面积的依赖 mc, cosumer-soa 的代码
    - 由于取消了 api 层 ,ap 作为前端直接调用的api , 所以同时需要兼顾原api层代码
    - 由于业务代码箱单复杂, 所以调试难度很大
    - 前端

# 20180904-20180925

## day01

入职, 第一件事当然是签订各种合同, 注册各种信息, 领取材料电脑之类的

1. 装环境:
想用公司电脑  --> 用公司电脑装环境  --> 装完后 Windows 炸了  --> 决定用自己电脑 --> 什么也不用做
2. 装 VPN :
自己制作的 ROM 包太精简, 安装证书功能被删了  --> 重装手机系统 --> 装证书  --> VPN  

## day02

1. 熟悉 app 
看 `优惠券` 怎么用, 有哪些类型优惠券, 怎么发布一个优惠券
2. 看项目
配置git  --> 拉项目 --> 看代码
- 用的是 `Dubbo` + `Spring` + `Mybatis` 
- 所有项目结构基本一致:
  - `XX-client` : 其他服务调用使用
  - `XX-provider` : 本服务内部业务层
- 每个项目提供唯一接口 : `XXService.execute()`, 接口内部动态路由

## day03

继续看代码, 了解项目

## day04

第一个任务 : `让用户列表支持shoppingmall ` 

大师:  改改/删掉判断条件即可
我: shoppingmall是什么? 用户列表和shoppingmall有什么关系?  业务逻辑是什么样的?  怎么才能支持? 删了判断会不会放行脏数据? 会不会影响其他业务线? 
然后: 跟着调用的链路, 挨个问...
接着: 自信地把判断删了, 跑单测  --> 为什么走DB 和 走 Solr 出的数据不一样 ? (降级), 接着问..
最后: 心惊胆战 push

## day05-day06

把公司电脑 Windows 换成 Mac  (很折腾) , 配环境,装软件 , 熟悉系统

## day07

第二个任务:  `批量发券支持预发券` 功能

## day08

第三个任务: 添加预发券券类型接口

## day09

看dubbo, 看项目

## day10

第四个任务: 支持券瓜分金额

## day11

了解公司各种工具, 如何配置, 如何使用如: Nobel, DubboAdmin, 跳板机

## day12

看整理 consumer-soa , online-wechat , market-center 代码, 准备着手新零售

## 存在的问题

1. 不熟悉开发流程
2. 各种开发环境
2. 不熟悉业务逻辑
3. 不熟悉各种术语
3. IDEA工具不够熟练(自己大部分还是命令行解决,效率不高)
4. 不熟悉Dubbo