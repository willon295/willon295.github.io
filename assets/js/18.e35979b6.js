(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{322:function(t,e,n){"use strict";n.r(e);var i=n(13),a=Object(i.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":this.$parent.slotKey}},[e("p",[this._v("以一个标准 restful 风格的 controller 为例")]),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('import cn.willon.bean.TVseries;\nimport org.apache.commons.io.IOUtils;\nimport org.springframework.http.MediaType;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\n\n@RestController\n@RequestMapping("/tv")\npublic class TvseriesController {\n\n    /**\n     * 文件上传\n     * @param id id\n     * @param file 传入的文件\n     * @throws IOException 异常\n     */\n    @PostMapping(value = "/{id}/photos", consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n    public void upload(@PathVariable int id, @RequestParam("photo") MultipartFile file) throws IOException {\n        FileOutputStream fos = new FileOutputStream(file.getOriginalFilename());\n        System.out.println("接收到文件： " + file.getOriginalFilename());\n        IOUtils.copy(file.getInputStream(), fos);\n        fos.close();\n    }\n\n    /**\n     * 文加的下载\n     * @param id id\n     * @return 文件的字节数组\n     * @throws IOException 异常\n     */\n    @GetMapping(value = "/{id}/icon", produces = MediaType.IMAGE_JPEG_VALUE)\n    public byte[] download(@PathVariable int id) throws IOException {\n        InputStream is = this.getClass().getClassLoader().getResourceAsStream("icon.jpg");\n        return IOUtils.toByteArray(is);//使用的是 apache common io 包\n    }\n}\n')])])])])}),[],!1,null,null,null);e.default=a.exports}}]);