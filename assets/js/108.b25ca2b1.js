(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{449:function(a,t,e){"use strict";e.r(t);var s=e(13),r=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"ddl"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ddl"}},[a._v("#")]),a._v(" DDL")]),a._v(" "),e("h2",{attrs:{id:"建表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#建表"}},[a._v("#")]),a._v(" 建表")]),a._v(" "),e("h3",{attrs:{id:"基础建表语句"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基础建表语句"}},[a._v("#")]),a._v(" 基础建表语句")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("create table t_name(\n字段 数据类型(长度) [CONSTRAINT 约束名] 约束条件,\n...\n)\n")])])]),e("p",[a._v("例如")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("create table test(\nid number(7) constraint TEST_ID_PKprimary key,\nname varchar2(10) constraint TEST_NAME_UQunique\n);\n\n")])])]),e("h3",{attrs:{id:"外键-fk"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#外键-fk"}},[a._v("#")]),a._v(" 外键 fk")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("字段名数据类型 constraint XXX_FKreferences 其他表(字段)\n")])])]),e("blockquote",[e("p",[a._v("注意事项： 建表时先建没有外键依赖的表，然后建有外键的表")])]),a._v(" "),e("h3",{attrs:{id:"check-约束"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#check-约束"}},[a._v("#")]),a._v(" check 约束")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("create table person(\n id number(7) primary key,\n gender varchar2(10) check (gender  in('male','female'))\n);\n// 限制性别只能是 male 和 female\n\n")])])]),e("h3",{attrs:{id:"视图查询建表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#视图查询建表"}},[a._v("#")]),a._v(" 视图查询建表")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("create table table_name AS select ... from...\n")])])]),e("h1",{attrs:{id:"删表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删表"}},[a._v("#")]),a._v(" 删表")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("drop table tab_name;\n\n")])])]),e("p",[a._v("oracle 默认不会完全删除表，而是放入回收站。彻底删除可以使用以下两种方法")]),a._v(" "),e("ol",[e("li",[a._v("彻底删除表："),e("code",[a._v("drop table table_name purge")])]),a._v(" "),e("li",[a._v("清空回收站： "),e("code",[a._v("purge recyclebin")])])]),a._v(" "),e("h1",{attrs:{id:"连接符"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#连接符"}},[a._v("#")]),a._v(" 连接符")]),a._v(" "),e("p",[e("code",[a._v("||")]),a._v(" ， 双竖线可以连接两个变量或者属性，如果两个连接符之间有其他的字符串，使用单引号 "),e("code",[a._v("' '")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("select last_name || ',' || salary froms_emp;\n\n")])])]),e("h1",{attrs:{id:"修改表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改表"}},[a._v("#")]),a._v(" 修改表")]),a._v(" "),e("ol",[e("li",[e("code",[a._v("ADD")])])]),a._v(" "),e("ul",[e("li",[a._v("增加新列")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("ALTER TABLE s ADD s_city VARCHAR2(20);\n")])])]),e("ul",[e("li",[a._v("增加新的约束")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("ALTER TABLE s ADD CONSTRAINT S_NAME_UQ unique(name);\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[e("code",[a._v("RENAME")])])]),a._v(" "),e("ul",[e("li",[a._v("修改表名")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("ALTER TABLE s RENAME TO s_table;\n")])])]),e("ul",[e("li",[a._v("修改列名")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("ALTER TABLE s_table RENAME COLUMN s_city TO s_country;\n")])])]),e("ol",{attrs:{start:"3"}},[e("li",[e("code",[a._v("MODIFY")])])]),a._v(" "),e("ul",[e("li",[a._v("修改字段类型")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("ALTER TABLE s_table MODIFY s_country NUMBER(20);\n")])])]),e("ol",{attrs:{start:"4"}},[e("li",[e("code",[a._v("DROP")])])]),a._v(" "),e("ul",[e("li",[a._v("删除表列")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("ALTER TABLE s_table DROP COLUMN s_country;\n")])])]),e("ol",{attrs:{start:"5"}},[e("li",[a._v("其他操作\n-- 注意: 增加和修改列是不需要加关键字COLUMN，否则会报错ora-00905。\n-- 其次，对删除单列/重命名单列，一定要加COLUMN")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("--增加多列：\nALTER TABLE s_table ADD (test1 VARCHAR2(10),test2 NUMBER);\n\n--修改多列：\nALTER TABLEs_table MODIFY (test1 VARCHAR2(20),test2 VARCHAR2(20));\n\n--删除多列：\nALTER TABLE s_table DROP (test1,test2);\n\n--单列中要加关键字COLUMN，删除多列的时候，不能加COLUMN关键字。\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);