---
title: '[Java]设计模式_单例模式'
tag: Java
category: Java
date: 2016-05-12 00:05:01
---


某些实例在程序中 有一个即可。例如：日期对象，日历对象。

作用：保证该整个应用程序中该对象只有一个


### 饿汉模式

**解释**： 该类创建的时候就创建该类的实例，通过`getInstance()`方法获取；

饿汉模式 demo 类

```
public class SingleTon1 {

	//私有化 构造方法,不允许外部直接创建对象
	private SingleTon1(){ }
    // 创建唯一的实例
	private  static SingleTon1 instance = new   SingleTon1();
    //创建一个 public 方法，供外部获取实例
    public  static  SingleTon1 getInstance(){
        return  instance;
        }
	}
```


测试该类

```
public class TestSingleTon1 {
    public static void main(String[] args) {
         //创建两个实例，比较两个实例是否是同一个
        SingleTon1 s1 = SingleTon1.getInstance();
        SingleTon1 s2 = SingleTon1.getInstance();

        if (s1 == s2) {
            System.out.println("yes");
        } else {
            System.out.println("no");
        }
      }
	}
	//运行结果==>yes
```


### 懒汉模式

**解释** ：该类创建的时候 不创建对象，当用户调用`getInstance()`方法时再创建实例；

懒汉模式 demo 类

```
public class SingleTon2 {
    //1. 私有化构造方法
    private SingleTon2() {
    }

    //2. 声明类唯一实例，不创建
    private  static  SingleTon2  instance;


    //3. 提供一个获取实例的方法
    public  static  SingleTon2 getInstance(){
        //判断实例是否 null ,是则创建实例
        if (instance==null){
            instance =new SingleTon2();
        }
        return  instance;
      }
	}
```

测试该类

```
public class TestSingeTon2 {
    public static void main(String[] args) {
        SingleTon2  s1 = SingleTon2.getInstance();
        SingleTon2 s2 = SingleTon2.getInstance();
        if (s1==s2){
            System.out.println("yes");
        }else{
            System.out.println("no");
        }
      }
	}
	//运行结果==> yes
```

### 区别


饿汉模式 ：加载类比较慢(创建对象)，运行时获取对象的速度快，线程安全

懒汉模式: 加载类比较快（不创建对象）， 运行时获取对象的速度慢，线程不安全
