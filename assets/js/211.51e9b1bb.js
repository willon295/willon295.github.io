(window.webpackJsonp=window.webpackJsonp||[]).push([[211],{597:function(a,e,t){"use strict";t.r(e);var s=t(13),r=Object(s.a)({},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[a._v("#")]),a._v(" 简介")]),a._v(" "),t("p",[a._v("hbase是nosql一种，不支持sql语句。")]),a._v(" "),t("p",[a._v("表--\x3e 行--\x3e列族")]),a._v(" "),t("p",[a._v("一个表有多个行，,行有 "),t("code",[a._v("行键")]),a._v("（不可相同）， "),t("code",[a._v("一行")]),a._v(" 可以有 "),t("code",[a._v("多个列族")]),a._v("，一个 "),t("code",[a._v("列族")]),a._v(" 可以插入许多 "),t("code",[a._v("不同记录")]),a._v("，")]),a._v(" "),t("h1",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),t("p",[a._v("注意，hbase 启动依赖 "),t("code",[a._v("zookeeper")]),a._v(" 和 "),t("code",[a._v("hdfs")]),a._v("，所以启动hbase前必须先启动这两个\n可以所有的集群节点上 都安装 hbase\n去apache官网或者 阿里镜像站 下载 hbase安装包，删除无用的 txt和doc文档")]),a._v(" "),t("h2",{attrs:{id:"修改配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改配置文件"}},[a._v("#")]),a._v(" 修改配置文件")]),a._v(" "),t("h3",{attrs:{id:"hbase-env-sh"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hbase-env-sh"}},[a._v("#")]),a._v(" hbase-env.sh")]),a._v(" "),t("p",[a._v("修改 "),t("code",[a._v("JavaHOme")]),a._v(",不使用自带的 "),t("code",[a._v("zookeeper")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("export JAVA_HOME=/usr/local/jdk-8\nexport HBASE_MANAGES_ZK=false\n")])])]),t("h3",{attrs:{id:"hbase-site-xml"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hbase-site-xml"}},[a._v("#")]),a._v(" hbase-site.xml")]),a._v(" "),t("p",[a._v("修改默认的文件的储存路径，是否使用集群，配置所有的zookeeper的通信地址")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("<configuration>\n<property>\n        <name>hbase.rootdir</name>\n        <value>hdfs://hdpnn0:9000/hbasedata</value>\n</property>\n<property>\n        <name>hbase.cluster.distributed</name>\n        <value>true</value>\n</property>\n\n<property>\n        <name>hbase.zookeeper.quorum</name>\n        <value>hdpdn0:2181,hdpdn1:2181,hdpdn2:2181</value>\n</property>\n</configuration>\n")])])]),t("h3",{attrs:{id:"regionservers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#regionservers"}},[a._v("#")]),a._v(" regionservers")]),a._v(" "),t("p",[a._v("修改这个文件的作用是： 让主节点知道和哪些节点通信.配置IP或者是主机名即可")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("hdpdn0\nhdpdn1\nhdpdn2\n")])])]),t("h3",{attrs:{id:"分发安装包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分发安装包"}},[a._v("#")]),a._v(" 分发安装包")]),a._v(" "),t("p",[a._v("将配置好的 "),t("code",[a._v("hbase")]),a._v(" 文件夹发送给所有节点")]),a._v(" "),t("h2",{attrs:{id:"启动及测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动及测试"}},[a._v("#")]),a._v(" 启动及测试")]),a._v(" "),t("ol",[t("li",[a._v("启动")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("bin/start-hbase.sh\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[a._v("Jps查看是否成功\n主节点会显示以下进程")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("1187 NameNode\n3642 Jps\n3339 HMaster\n1388 SecondaryNameNode\n")])])]),t("p",[a._v("从节点会显示")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("2801 HRegionServer\n2151 DataNode\n2999 Jps\n1933 QuorumPeerMain\n")])])]),t("h1",{attrs:{id:"使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[a._v("#")]),a._v(" 使用")]),a._v(" "),t("p",[a._v("hbase是nosql的一种，所以不支持sql语句，但是默认使用 ruby语言")]),a._v(" "),t("h2",{attrs:{id:"基本命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本命令"}},[a._v("#")]),a._v(" 基本命令")]),a._v(" "),t("p",[t("code",[a._v("bin/hbase shell")]),a._v(" 进入交互界面")]),a._v(" "),t("ol",[t("li",[a._v("查看数据库： list")]),a._v(" "),t("li",[a._v("查看表： scan 't_user'")]),a._v(" "),t("li",[a._v("创建表：")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("create 'test:t_user','base_info','extra_info'\n//或者是下面这样， \ncreate 'test:t_user',{NAME='baseinfo',VERSIONS=1},{NAME='extrainfo',VERSIONS=1}\n")])])]),t("blockquote",[t("p",[a._v("test是命名空间,t_user是表，base_info和extra_info是列族")])]),a._v(" "),t("ol",{attrs:{start:"4"}},[t("li",[a._v("创建名称空间")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("create_namespace 'nas0001'\n")])])]),t("ol",{attrs:{start:"5"}},[t("li",[a._v("在指定名称空间创建表：")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("create 'db0001:t_student','fam1','fam2' \n")])])]),t("ol",{attrs:{start:"6"}},[t("li",[a._v("插入记录：")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("put 't_user','rowkey001','base_info:username','zhangsan'\n//(rowkey001是行键，username是键，zhangsan是值)\n")])])]),t("ol",{attrs:{start:"7"}},[t("li",[a._v("删除记录：")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("delete 't_user','rowkey001','base_info:username'\n")])])]),t("ol",{attrs:{start:"8"}},[t("li",[a._v("删除表(先屏蔽，再删除)：")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("disable 't_user'; drop 't_user'.\n")])])]),t("p",[a._v("具体看表：")]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("操作")]),a._v(" "),t("th",[a._v("表达")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("创建表")]),a._v(" "),t("td",[a._v("create '表名称', '列名称1','列名称2','列名称N'")])]),a._v(" "),t("tr",[t("td",[a._v("添加记录")]),a._v(" "),t("td",[a._v("put '表名称', '行名称', '列名称:', '值'")])]),a._v(" "),t("tr",[t("td",[a._v("查看记录")]),a._v(" "),t("td",[a._v("get '表名称', '行名称'")])]),a._v(" "),t("tr",[t("td",[a._v("查看表中的记录总数")]),a._v(" "),t("td",[a._v("count  '表名称'")])]),a._v(" "),t("tr",[t("td",[a._v("删除记录")]),a._v(" "),t("td",[a._v("delete  '表名' ,'行名称' , '列名称'")])]),a._v(" "),t("tr",[t("td",[a._v("删除一张表")]),a._v(" "),t("td",[a._v("先要屏蔽该表，才能对该表进行删除，第一步 disable '表名称' 第二步 drop '表名称'")])]),a._v(" "),t("tr",[t("td",[a._v("查看所有记录")]),a._v(" "),t("td",[a._v('scan "表名称"')])]),a._v(" "),t("tr",[t("td",[a._v("查看某个表某个列中所有数据")]),a._v(" "),t("td",[a._v("scan \"表名称\" , ['列名称:']")])]),a._v(" "),t("tr",[t("td",[a._v("更新记录就是重写一遍进行覆盖")]),a._v(" "),t("td")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);