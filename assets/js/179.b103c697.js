(window.webpackJsonp=window.webpackJsonp||[]).push([[179],{551:function(e,a,t){"use strict";t.r(a);var n=t(13),i=Object(n.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"what-s-valine"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-s-valine"}},[e._v("#")]),e._v(" What's Valine?")]),e._v(" "),t("p",[e._v("当初搭建博客时，想访问速度快，想快那静态文件最快了，于是选了Hexo构建静态博客，那么问题来了，静态博客是没有后端的，\n也就是说无法添加评论。如果想实现，就得依赖第三方评论系统。但是自己的评论数据存在别人的数据库，总感觉不那么靠谱。所以我们需要一个无后端的评论系统\n"),t("a",{attrs:{href:"https://valine.js.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Valine官网"),t("OutboundLink")],1),e._v("，作者自述：Valine 是一款基于 "),t("code",[e._v("Leancloud")]),e._v(" 的快速、简洁且高效的无后端评论系统。")]),e._v(" "),t("h1",{attrs:{id:"next主题使用valine"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#next主题使用valine"}},[e._v("#")]),e._v(" NexT主题使用Valine")]),e._v(" "),t("p",[e._v("NexT主题的最新版已经支持该评论系统，默认没有启动")]),e._v(" "),t("h2",{attrs:{id:"准备工作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[e._v("#")]),e._v(" 准备工作")]),e._v(" "),t("ol",[t("li",[e._v("Valine.min.js\n下载"),t("a",{attrs:{href:"https://raw.githubusercontent.com/xCss/Valine/master/dist/Valine.min.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("Valine.min.js"),t("OutboundLink")],1),e._v("，放入 "),t("code",[e._v("主题/source/js/src/")]),e._v(" 目录")]),e._v(" "),t("li",[e._v("LeanCloud")])]),e._v(" "),t("ul",[t("li",[e._v("注册账号 -> 创建应用  -> 应用  -> 设置 -> 复制下  "),t("code",[e._v("appid")]),e._v(" 、"),t("code",[e._v("appkey")])]),e._v(" "),t("li",[e._v("安全中心 -> 添加域名限制 (为了安全和防止恶意提交)")])]),e._v(" "),t("h2",{attrs:{id:"启用valine"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启用valine"}},[e._v("#")]),e._v(" 启用Valine")]),e._v(" "),t("p",[e._v("主要修改一下配置文件")]),e._v(" "),t("ol",[t("li",[t("code",[e._v("themes/next/layout/_third-party/comments/valine.swig")])])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("{% if theme.valine.enable and theme.valine.appid and theme.valine.appkey %}\n  <script src=\"https://cdn1.lncld.net/static/js/3.0.4/av-min.js\"><\/script>\n  <script src=\"/js/src/Valine.min.js\"><\/script>\n  \n  <script type=\"text/javascript\">\n    new Valine({\n\t\tav: AV,\n        el: '#comments' ,\n        verify: {{ theme.valine.verify }},\n        notify: {{ theme.valine.notify }},\n        appId: '{{ theme.valine.appid }}',\n        appKey: '{{ theme.valine.appkey }}',\n\t\tplaceholder: '{{ theme.valine.placeholder }}',\n        avatar: 'hide',\n        guest_info: ['nick'],\n        pageSize:'{{ theme.valine.pageSize }}' || 10,\n    });\n  <\/script>\n{% endif %}\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[t("code",[e._v("themes/next/_config.yml")])])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("valine:\n  enable: true\n  appid: XXXXXXXXXXX # leancloud application appid\n  appkey: Rr16HzzMSYzQoUujCx9Tt69v # leancloud application appkey\n  notify: false # mail notifier\n  verify: false # Verification code\n  pageSize: 10 # pagination size\n  placeholder: 说点什么吧 # comment box placeholder\n")])])])])}),[],!1,null,null,null);a.default=i.exports}}]);