(window.webpackJsonp=window.webpackJsonp||[]).push([[172],{539:function(t,a,e){"use strict";e.r(a);var s=e(13),v=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"痛苦来源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#痛苦来源"}},[t._v("#")]),t._v(" 痛苦来源")]),t._v(" "),e("p",[t._v("每次写文章要做那么多事")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v("  commit   "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-am")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"update docs"')]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push \n\nhexo g\n\nhexo d \n")])])]),e("h2",{attrs:{id:"主要功能"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#主要功能"}},[t._v("#")]),t._v(" 主要功能")]),t._v(" "),e("p",[t._v("本地写"),e("code",[t._v(".md")]),t._v("文章之后，执行"),e("code",[t._v("post.sh")]),t._v(" ，自动完成")]),t._v(" "),e("ul",[e("li",[t._v("生成静态页面")]),t._v(" "),e("li",[t._v("推送并更新"),e("code",[t._v("github page")]),t._v("（或者"),e("code",[t._v("coding page")]),t._v("）")]),t._v(" "),e("li",[t._v("推送博客文章源码到远程仓库")])]),t._v(" "),e("h2",{attrs:{id:"动机"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#动机"}},[t._v("#")]),t._v(" 动机")]),t._v(" "),e("p",[t._v("动机当然是解决那些痛苦了")]),t._v(" "),e("h3",{attrs:{id:"谈谈github-travisc"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#谈谈github-travisc"}},[t._v("#")]),t._v(" 谈谈"),e("code",[t._v("github+TravisC")])]),t._v(" "),e("p",[t._v("本人认为最好的"),e("code",[t._v("Hexo")]),t._v("自动部署方案就是 "),e("code",[t._v("github+TravisCI")])]),t._v(" "),e("ol",[e("li",[e("p",[e("code",[t._v("githu+TravisCI")]),t._v("优点")]),t._v(" "),e("ol",[e("li",[t._v("无需安装"),e("code",[t._v("Nodejs")])]),t._v(" "),e("li",[t._v("无需安装"),e("code",[t._v("Hexo")])]),t._v(" "),e("li",[t._v("只需管理文章源文件"),e("br"),e("br")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("githu+TravisCI")]),t._v("不足")]),t._v(" "),e("ol",[e("li",[t._v("无法本地灵活调试"),e("code",[t._v("Hexo")])]),t._v(" "),e("li",[t._v("TravisCI容易部署失败，原因各种各样，文章的一个标点都会让一次部署失败，排错较难")]),t._v(" "),e("li",[e("code",[t._v("github page")]),t._v("已屏蔽百度"),e("code",[t._v("spider")]),t._v(",所以不利于网站收录")]),t._v(" "),e("li",[t._v("访问速度没国内"),e("code",[t._v("coding")]),t._v("快")])])])]),t._v(" "),e("p",[t._v("于是决定想个办法实现"),e("code",[t._v("coding")]),t._v("自动部署"),e("code",[t._v("Hexo")]),t._v("。")]),t._v(" "),e("h2",{attrs:{id:"do-it"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#do-it"}},[t._v("#")]),t._v(" Do it")]),t._v(" "),e("h3",{attrs:{id:"准备工作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[t._v("#")]),t._v(" 准备工作")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("安装"),e("code",[t._v("Hexo")]),t._v(","),e("code",[t._v("Nodejs")])])]),t._v(" "),e("li",[e("p",[t._v("添加空分支"),e("code",[t._v("blog-source")]),t._v(",用于存放源文件")])]),t._v(" "),e("li",[e("p",[t._v("修改"),e("code",[t._v("config.yml")]),t._v("，修改静态文件的推送分支为"),e("code",[t._v("master")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("deploy:\ntype: git\nrepo: git@git.coding.net:willon/willon.coding.me.git\nbranch: master\n")])])])])]),t._v(" "),e("h3",{attrs:{id:"添加脚本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加脚本"}},[t._v("#")]),t._v(" 添加脚本")]),t._v(" "),e("p",[e("code",[t._v("post.sh")]),t._v("文件内容")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('#确定当前目录为hexo工作根目录\necho  -e "\\033[32;49;1m [正在提交新文章]"\ngit  add  .\ngit  commit  -am "Update Docs"\necho -e "\\033[32;49;1m 提交成功，正在推送至远程仓库...\\033[39;49;0m"\ngit  push origin blog-source\necho -e  "\\033[32;49;1m 源文件推送成功...\\033[39;49;0m"\necho  -e  "\\033[32;49;1m 正在生成静态页面...\\033[39;49;0m"\nhexo g\necho -e "\\033[32;49;1m 正在推送静态页面...\\033[39;49;0m"\nhexo d\necho  -e "\\033[32;49;1m 全部搞定！！！\\033[39;49;0m"\n')])])]),e("h3",{attrs:{id:"开心的写文章"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开心的写文章"}},[t._v("#")]),t._v(" 开心的写文章")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("写一篇"),e("code",[t._v(".md")]),t._v("文章")])]),t._v(" "),e("li",[e("p",[t._v("执行")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("sh post.sh\n")])])])]),t._v(" "),e("li",[e("p",[t._v("收工")])])])])}),[],!1,null,null,null);a.default=v.exports}}]);