(window.webpackJsonp=window.webpackJsonp||[]).push([[161],{525:function(a,t,s){"use strict";s.r(t);var e=s(13),r=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"nginx安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nginx安装"}},[a._v("#")]),a._v(" Nginx安装")]),a._v(" "),s("p",[a._v("操作系统为 Centos7")]),a._v(" "),s("ol",[s("li",[a._v("环境准备： 需要准备编译安装需要的工具")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" gcc   pcre  pcre-devel  zlib zlib-devel  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v("\n")])])]),s("blockquote",[s("p",[a._v("gcc为编译需要， pcre,zlib为HTTP模块依赖")])]),a._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[a._v("编译安装")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" http://nginx.org/download/nginx-1.14.2.tar.gz\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" zxf nginx-1.14.2.tar.gz \n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" nginx-1.14.2\n./configure  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--prefix")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local/nginx\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" \n")])])]),s("blockquote",[s("p",[a._v("--prefix 参数指定安装前缀")])]),a._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[a._v("安装完成之后， 多出目录 "),s("code",[a._v("/usr/local/nginx/")]),a._v(" , 该目录的文件结构为")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("conf: 配置文件目录\nhtml: 默认虚拟机站点根目录\nsbin: 二进制可执行文件目录\nlogs: 日志文件目录\n")])])]),s("p",[s("code",[a._v("logs")]),a._v("  目录在nginx启动之后会出现三个文件，")]),a._v(" "),s("ul",[s("li",[a._v("access.log(访问日志)")]),a._v(" "),s("li",[a._v("error.log(错误日志)")]),a._v(" "),s("li",[a._v("nginx.pid（master进程id）")])]),a._v(" "),s("h1",{attrs:{id:"常用命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[a._v("#")]),a._v(" 常用命令")]),a._v(" "),s("ol",[s("li",[a._v("启动")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("/usr/local/nginx/sbin/nginx\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("停止")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("/usr/local/nginx/sbin/nginx "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" stop\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[a._v("重新启动")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("/usr/local/nginx/sbin/nginx  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" reload\n")])])]),s("h1",{attrs:{id:"信号控制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#信号控制"}},[a._v("#")]),a._v(" 信号控制")]),a._v(" "),s("p",[a._v("命令为：  "),s("code",[a._v("kill 信号控制参数 master进程pid")]),a._v("，")]),a._v(" "),s("table",[s("thead",[s("tr",[s("th",[a._v("参数")]),a._v(" "),s("th",[a._v("解释")])])]),a._v(" "),s("tbody",[s("tr",[s("td",[a._v("TERM,INT")]),a._v(" "),s("td",[a._v("快速销毁")])]),a._v(" "),s("tr",[s("td",[a._v("QUIT")]),a._v(" "),s("td",[a._v("优雅关闭进程，等待请求结束之后再关闭")])]),a._v(" "),s("tr",[s("td",[a._v("HUP")]),a._v(" "),s("td",[a._v("当配置文件被修改时，平滑加载配置文件")])]),a._v(" "),s("tr",[s("td",[a._v("USR1")]),a._v(" "),s("td",[a._v("重新读取日志，在日志按月日划分时可用")])]),a._v(" "),s("tr",[s("td",[a._v("USR2")]),a._v(" "),s("td",[a._v("平滑升级")])]),a._v(" "),s("tr",[s("td",[a._v("WINCH")]),a._v(" "),s("td",[a._v("优雅关闭woker进程，配合USR2进行升级")])])])])])}),[],!1,null,null,null);t.default=r.exports}}]);